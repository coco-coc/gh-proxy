<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GitHub脚本代理转换器</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="header">
    <h1><i class="fas fa-code-branch me-2"></i>GitHub脚本代理转换器</h1>
    <p>解决纯IPv6的VPS运行GitHub脚本时访问GitHub不通的问题</p>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-lg-6">
        <div class="card">
          <div class="card-header">
            <i class="fas fa-info-circle me-2"></i>使用说明
          </div>
          <div class="card-body">
            <p>本工具可将GitHub脚本命令转换为使用代理的命令，解决在纯IPv6 VPS上无法访问GitHub的问题。</p>
            
            <p class="fw-bold mt-4">支持的命令格式:</p>
            <div class="example-box">
              bash &lt;(curl -L https://github.com/coco-coc/warp.sh/raw/main/warp.sh) 4
            </div>
            <div class="example-box">
              bash &lt;(wget -qO- -o- https://git.io/v2ray.sh)
            </div>
            <div class="example-box">
              wget -O tcpx.sh "https://git.io/JYxKU" && chmod +x tcpx.sh && ./tcpx.sh
            </div>
            <div class="example-box">
              wget -N --no-check-certificate https://raw.githubusercontent.com/Misaka-blog/hysteria-install/main/hy2/hysteria.sh && bash hysteria.sh
            </div>
            
            <div class="d-flex justify-content-end mt-4">
              <a href="https://github.com/crazypeace/gh-proxy/" class="btn btn-sm btn-outline-primary">
                <i class="fab fa-github me-1"></i> Fork me on GitHub
              </a>
            </div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <i class="fas fa-exchange-alt me-2"></i>简单转换GitHub网址
          </div>
          <div class="card-body">
            <div class="mb-3">
              <label class="form-label">输入GitHub资源链接</label>
              <input type="text" class="form-control" id="githubRes" placeholder="例如 https://github.com/crazypeace/warp.sh/raw/main/warp.sh">
            </div>
            
            <button class="btn btn-primary w-100 mb-4" onclick="convertRes()">
              <i class="fas fa-sync-alt me-2"></i>转换资源
            </button>
            
            <label class="form-label">转换后的链接</label>
            <div class="input-group mb-3">
              <input type="text" class="form-control" id="resAfterGhproxy" readonly>
              <button class="btn btn-success" type="button" onclick="fetchRes()">
                <i class="fas fa-external-link-alt"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-6">
        <div class="card">
          <div class="card-header">
            <i class="fas fa-terminal me-2"></i>转换GitHub一键脚本命令
          </div>
          <div class="card-body">
            <div class="mb-3">
              <label class="form-label">输入GitHub脚本命令</label>
              <input type="text" class="form-control" id="githubScript" placeholder="例如 bash <(curl -L https://github.com/coco-coc/warp.sh/raw/main/warp.sh) 4">
            </div>
            
            <button class="btn btn-primary w-100 mb-4" onclick="convertScript()">
              <i class="fas fa-magic me-2"></i>转换脚本
            </button>
            
            <div class="mb-4">
              <label class="form-label">转换结果（单层代理）</label>
              <p class="small text-muted">仅处理脚本中的第一层GitHub资源</p>
              <div class="input-group">
                <input type="text" class="form-control" id="result2" readonly>
                <button class="btn btn-success" type="button" onclick="copyResult('result2', '单层代理命令已复制')">
                  <i class="fas fa-copy"></i>
                </button>
              </div>
            </div>
            
            <div>
              <label class="form-label">转换结果（多层代理）</label>
              <p class="small text-muted">处理脚本中嵌套调用的其它GitHub脚本</p>
              <div class="input-group">
                <input type="text" class="form-control" id="result1" readonly>
                <button class="btn btn-success" type="button" onclick="copyResult('result1', '多层代理命令已复制')">
                  <i class="fas fa-copy"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <i class="fas fa-cog me-2"></i>高级设置
          </div>
          <div class="card-body">
            <p class="text-muted small mb-3">仅当您了解这些参数的作用时才进行修改</p>
            
            <div class="mb-3">
              <label class="form-label">GitHub代理地址</label>
              <div class="input-group">
                <span class="input-group-text"><i class="fas fa-link"></i></span>
                <input type="text" class="form-control" id="ghproxy" value="https://git.1314k.tk">
                <button class="btn btn-info" type="button" onclick="getLocalUrl()">
                  <i class="fas fa-sync me-1"></i>使用本页
                </button>
              </div>
            </div>
            
            <div class="alert alert-info">
              <i class="fas fa-lightbulb me-2"></i> 提示：默认代理已足够处理大多数情况，无需修改
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="footer">
    <p>© 2023 GitHub脚本代理转换器 | 帮助解决纯IPv6 VPS访问GitHub的问题</p>
  </div>
  
  <div class="theme-switch" id="themeSwitch">
    <i class="fas fa-moon"></i>
  </div>
  
  <div class="toast" id="copyToast">复制成功!</div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="main.js"></script>
</body>
</html>
